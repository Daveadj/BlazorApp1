@page "/add-product"


<h3>Add New Product</h3>

<div class="container">
    <div class="row">
        <div class="card">
            <div class="card-header">Add Product</div>
           <div class="card-body">
              <EditForm Model="NewProduct" OnValidSubmit="AddProduct">
                  <DataAnnotationsValidator/>
                  <div class="form-group">
                      <label class="form-label">Product Name</label>
                      <InputText @bind-Value="NewProduct.Name" class="form-control"></InputText>
                      <ValidationMessage For="()=>NewProduct.Name"></ValidationMessage>

                  </div>
                    <div class="form-group">
                        <label class="form-label">Product Quantity</label>
                        <InputNumber @bind-Value="NewProduct.quantity" class="form-control"></InputNumber>
                        <ValidationMessage For="()=>NewProduct.quantity"></ValidationMessage>

                    </div>
                    <button type="submit" class="btn btn-primary">Save</button>
              </EditForm>
           </div>
            
        </div>
    </div>

</div>

@code {
    public Product NewProduct = new Product();

    private async void AddProduct()
    {

        await ProductRepo.Create(NewProduct);

        NavigationManager.NavigateTo("/products");
    }
}

